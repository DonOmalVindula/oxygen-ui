import {ArgsTable, Source, Story, Canvas, Meta} from '@storybook/addon-docs';
import {useArgs} from '@storybook/client-api';
import dedent from 'ts-dedent';
import Collapse from './Collapse.tsx';
import StoryConfig from '../../../.storybook/story-config.ts';
import Box from '../Box/Box.tsx';
import FormControlLabel from '../FormControlLabel/FormControlLabel.tsx';
import FormGroup from '../FormGroup/FormGroup.tsx';
import Paper from '../Paper/Paper.tsx';
import Switch from '../Switch/Switch.tsx';

export const meta = {
  component: Collapse,
  title: StoryConfig.Collapse.hierarchy,
};

<Meta title={meta.title} component={meta.component} />

export const Template = ({...args}) => {
  const [runtimeArgs, updateArgs] = useArgs();
  const {in: checked} = runtimeArgs;
  return (
    <Box sx={{p: 3}}>
      <FormGroup sx={{mb: 2}}>
        <FormControlLabel
          control={<Switch checked={checked} onChange={() => updateArgs({...runtimeArgs, in: !checked})} />}
          label="Show"
        />
      </FormGroup>
      <Collapse in={checked} {...args}>
        <Paper sx={{background: 'red', height: '200px', width: '200px'}} />
      </Collapse>
    </Box>
  );
};

# Collapse

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)

## Overview

Expand from the start edge of the child element. Use the `orientation` prop if you need a horizontal collapse. The
`collapsedSize` prop can be used to set the minimum width/height when not expanded.

<Canvas>
  <Story
    name="Overview"
    args={{in: false}}
    parameters={{
      docs: {iframeHeight: 476, inlineStories: false},
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable story="Overview" />

## Usage

Import and use the `Collapse` component in your components as follows.

<Source
  language="jsx"
  dark
  format
  code={dedent`
import Collapse from '@oxygen-ui/react/Collapse';\n
function Demo() {
  return (
    <Collapse />
  );
}`}
/>
